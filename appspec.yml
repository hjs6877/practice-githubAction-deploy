version: 0.0
os: linux
files:
  - source:  /  # S3 버킷의 경로
    destination: /home/ubuntu/action # TODO destination이 ubuntu일 필요가 없다. ssm-user 계정으로로 가능함.
    overwrite: yes

# 배포된 파일에 대한 권한 설정
permissions:
  - object: /       # 권한을 적용할 파일이나 디렉토리. 여기서는 `/` 디렉토리
    pattern: "**"   # 파일이나 디렉토리 경로의 패턴: 여기서는 모든 하위 디렉토리와 파일을 의미
    owner: ubuntu
    group: ubuntu

hooks:
  ApplicationStart:
    - location: scripts/deploy.sh
      timeout: 60
      runas: ubuntu